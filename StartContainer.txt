1)Install docker derniere version si besoin
curl -sSL https://get.docker.com/ | sh

2)Charger une image a partir de son point de montage

docker load -i  /media/sf_RSAT/rsat_debian-3_1_0.tar
Verif :
root@Theodule-VBox-Clone:/home/tagc# docker images
REPOSITORY          TAG                 IMAGE ID            CREATED     SIZE
rsat_debian         3.1.0               1e3608e1c2d0        2 hours ago 3.096 GB
rsat_debian         2.1.0               4ee1910504a1        5 days ago  1.15 GB
debian-rsat         1.2.9               dbff35251689        3 weeks ago 4.889 GB
....
..

3)lancer un serveur web container (un giga de ram alloué) depuis sa machine physique (volume partagé entre conteneur et machine physique /rsat_data) port 32701 :

docker run -t -i -m 1g  -v /rsat_data:/rsat_data -p 32801:80 debian-rsat:3.1.0
Si ma machine physique est a l'adresse ip a.b.c.d alors le serveur web sera accessible à l'adresse 
http://a.b.c.d:32701/rsat
et ce depuis ma machine physique et depuis toute machine qui a acces a ma machine physique sur le port 80
A noter que le serveur web reste actif dans le conteneur qui reste ouvert; il faudra taper exit pour fermer le conteneur et donc arreter le service web apache.

4)executer une commande rsat depuis sa machine physique (volume partage entre conteneur et machine physique /RsatInstall et /tmp) via un conteneur

Ajouter en fin de ligne precedente( "docker run" ) la commande rsat a executer, ses parametres , fichiers d'entree et un emplacement de sortie de resultat .
A noter que dans ce cas le conteneur se referme automatiquement après execution de la commande

Exemple : commande rsat /rsat/perl-scripts/retrieve-seq
Parametres -org Saccharomyces_cerevisiae -feattype gene -type upstream -format fasta -label name -from -800 -to -1
Fichier d'entree de la commande rsat :  /RsatInstall/list.genes (vu depuis le conteneur ou  /tmp/list.genes vu depuis l'hote hebergeur)
Fichier de sortie /tmp/output sur l'hote

docker run -t -i -m 1g  -v /tmp:/RsatInstall -p 32801:80 rsat_debian:3.1.0 /rsat/perl-scripts/retrieve-seq  -org Saccharomyces_cerevisiae -feattype gene -type upstream -format fasta -label name -from -800 -to -1 -i /RsatInstall/list.genes > /tmp/output

Avec un fichier d'entrée :
 more /tmp/list.genes 
DAL5
GAP1
MEP1
MEP2
PUT4
MEP3
DAL80

On a un fichier de sortie  /tmp/output
root@Theodule-VBox-Clone:/home/tagc# more  /tmp/output
>DAL5   DAL5; upstream from -800 to -1; size: 800; feature type:gene; location: Saccharomyces_cerevisiae:NC_001142.7:718860:719659:D
GAACATCTGTTTAACTTTCAAGCTTTCTACCATATAGCCGAGATGAGCAAATACATTAAA
ACATCAAAAAGTGGTGCTTGAATGCTTATTTTATGACGCAAAGCAGATGTAATGCATCCC
GAGTAAAACAGAATACTTAATTTGACTTCAGCAAAATAACTACCCAGAATGAACACCGAA
TTTGACATTGATAACAAGACAATCTAGGAATACTTTTACATCAGCACAATATCCATGGTG
GATCCCGGCGGATTTTTCTTTCTTATTGCACCTTAATCAGGTTTACAGCCTATGACTGAC
TCTGGAGTGTCCTTTCCCAGTATCTGATTGTTTCCGCAACATCTATGCATATCAGAGAAG
CGTTCTCATCAGTCACTTGACAAATGCTCGAGGAGCTATCATTTGCTGATAAGGTGCTAC
AGCGCGCTCCTGCCGCACGCTTTGTTCCTTTTCGATAAGAGTCCCTCGCGTTAGTCTGAG
TGAAGTGCGGAATTCAGCAAACGAATAACAATCGACCTTATGATCATGTGGATTATCGGG
GCAAAAGATTTGGCCAAGATGTCAGAGAACGTTATCACCAATCACTCACACAATTAAGTG
GTAGTGTAACTCCGAAGATACGGCTAATACTTATCATTATCTGGTTTTCCGAATATACAG
ATTGGATGAAGTAATATATGTATATAAATGGACCAAGGAAACATCAAATTAGGAGATCAT
GAGGGAAAGGTTTAACATAACAACATTGAAGAAAACAACAAAACAAGGATAATCAAATAG
TGTAAAAAAAAAAATTCAAG
>GAP1   GAP1; upstream from -800 to -1; size: 800; feature type:gene; location: Saccharomyces_cerevisiae:NC_001143.7:513905:514704:D
CCTACAACAATAGATTAGACACACCAGTGCCAAGGACAATATGTTGCGTTCTGACTAGTC
GAAGTATCATTACGCTGTGCAGATCGACCTGACACCAGACACAAAGGAGAATAGGGGCAG
CATGAGTTCCGTCGGCGACTCATTCCGACCTTCCACAGGTCCGTTGATTACTTTTTCACT
GATCCGGTGGAATCTATGGTTGTTTTTTTCATCATGATATCTGTTTTAGGACTTTTTTTT
TCAGCCGATCGCTTATCTGCTCACTAGAATCGTAATCAGTGATATTTTTATTAATAATTA
TTATTTATTTTTTTTTATACCATTTCCTTTTGATAAGGGGTCGTTGGTGCCGTGCCGCTA
TCAGGCAGCCTCACTAATCTACCCATTGACCTCATGCAGCAAAGTCACATCGCCCATATC
TCTCGAGTGCGATAACGGGGAACTTGATTTGGTAACTGATAAGATTGTTAAATGTCAGTT
TGGATGCTTTTTCTTACGTCCGATTAGCTTATCTTCTGGAGCAACCGGCCATTTACCTCC
TCATAGTAAATTAAACATGATAAGCGCATAGTTGGGGCAACACACCTTTCTTCCGGAATT
CGCTCTGGATGAGACATATAAAGATGAAGGTGAAGTCCACTTAAATGAATGTCAATGAGA
CGATGTTTTTTCTCCTAGATTGATTTTTGAATTCCTTGTATACAAAGTCTTGTTTTCTTA
TTGTCCTCAACAAAACAAAAGTAGAAAAGAACAGACCAAGGACAGCAACATTTATAAGAA
ACAAAAAAAAGAAATAAAAA
>MEP1   MEP1; upstream from -800 to -1; size: 800; feature type:gene; location: Saccharomyces_cerevisiae:NC_001139.8:732933:733732:R
AGAGCTATTTGTAAGGGAAGACAAGATCTCAAGTGTTACCACAGCCCGTAATTGAGTTCG
GCACTATTCGAGCGCACAAAAAATCCCGTACTGTTTTTTTTCAGATAAGAAAGACTGAGC
CTATATAAACACTACCTGAACCATTTTTAAGATAAAAGTTATATACGATAGAGTTATCCC
CTCTTAATAATTGATCAAGAACCTCTGAAGCACAAAAGGGAGCATAAGAGCACTTAGGGA
CAAACGTATTTCTTTCCCCCACTCCCCTTTTTCCCTTTGCGATGCACATCCATAACTTGT
ACTTGTGTCTTGACATTCTTCAAAATCAACATGGCGATGCTCTTCTACGGTTGTCCTTTG
CCACGAACTTTGTTTTGCGCCTCCCCTCCCTTTGTCAGGCTGAGTGCAAAAGAAAAGGCC
CTGGTTGCTTATCTCTGCGGACACGCGCCCCTCTTATTGGATGAGACATCTCAGAGATTG
CGATAACGATAAGATTCACAATTGCTACAGACACCCTTGTGTGACATCTTATGGCTATGT
AAGCACAGAAGAGAAGAAGAAAGAAATGACAAAGTATTGATGGAAGATGTTTTTCCTGAA
AAAAAAAAAAAAAAAAAATCGGAAAAGTGGTGTAGGCTTCTATAGCACCTTCTGCTTACC
AGTCGATAATGCAGTTCCAGAATAAGATACTTAAAAGGTAGTTTATTTATATAGGCGCTC
TTGTAACTTGTTTAGGCTTATGATCAGAGAATTATTTTAGTAAACATAACTGCAGTACGG
ATTCTTATACTGTAGAAACT
>MEP2   MEP2; upstream from -800 to -1; size: 800; feature type:gene; location: Saccharomyces_cerevisiae:NC_001146.6:356655:357454:D
TGAGTTTTCTTTTTCTGATATTATTGGATAATATTTTCAGCTATAGACTATCATCATTCA
GCATTGGTCACGCTAAAATATACGTTCCATGCATACGTGATAGCCTACTCGGTTGTCAAC
TTCATTTTATAGGCTGCCTGGTCACCGATTACCGCCCCGCTCAGCAGGACGGTTTAAGCT
TCTGTTCTTGGAAACGACGTAATTCATGTCGGCCATCGAAATCATTCCTGGCTTTGTAAT
AGTCATAATGAACAAGGAATGCTGTCTTGGGTTTTTTTCCCTTTGCGAATACCCGGGCTG
CCAAAATAGAAAAGGAACAAATGGTAGGTCTTTAAGATAAGAAAGATAAGATAAGACATC
TTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTCCGATAACAAAGAAGAATCCTTCGGTCT
CTTCTTACTGCTGTTACTGCTTATCAAGAGTGTCTGGTAATAGTCAAAGCCAGATAAGAT
AAGAAATGTAAAATCGACTATTTCCCTCGTAAAAAGCTTCAATTGCTCACGCATCGACGA
ATACTAAGCGGCGTGAAGACCCTGTGCCTTATCAATGAAGTATTCAGTACAAGAGGTGTT
CATTCCGAGCCACTTTTCTGCACCATATATAAGCAGTAGTTACACATGTGCTAACCAAAC
ATCAGTGGGTAGTAATCATTCGTGCTTTCACGTCCTTTCAAATTAAATATCCTTCTTAAA
TAATAAGTCTGCACAGAGCTTTGAAAGAAGTTTAGTTTTGTAATATATCATACTTAATAT
ATTACAATACAATATCAACA
>PUT4   PUT4; upstream from -800 to -1; size: 800; feature type:gene; location: Saccharomyces_cerevisiae:NC_001147.5:988780:989579:R
TCTAAAACGGAGATCAAATACCGGGCCCGCGCGCGATGGCCGGATGTCCGTCCATACTGC
AATGTGAATTCCCGCGCGGTTCAAATCTTGTCACAAGTTTGTCAAAATTGCTTGTCATGT
CTGCCAAATCTCCAGGGTCCTAAATCTGAGGTAGCACGGCACGGCACAAGATGGTACCCA
TGGTGCGTGACGACAGCCGCTACTTGCACGGCTTTGTTCCGGCAGCCCGGGTACCCGCGC
TGCGAGTTGAAACATCATCAAACCAAAAGGGAAGCGACGTTAGTTTTTTTCATTGCGCTA
GCTATGACGTTTGGGTGGCCTAGCCGGTTCGCGTGTGCCTGTCGCTTTTGTCGCTTTTCA
ACTTCTGCCCGATATTTCCTATCAAAGGAAAATGGGACGTTTTCAACCCCTCGCTATCAT
CGTGCCTGCACTCTGCCTATCGCCAACTACACCGGGGTTTTATCTGCTTCACCCCTCCAT
CCAGTGCTGATAACAAGAAGAACCTTGCAGGGTAGGGCAGGACCTACGGCCAAAATACTA
ATTATGTCTGTTTATGTACATGCCCCAATCTGAATATTCCATGAATGTAGGCACAGCATA
TCTCCATCCATGTACTGATACAGACGCATAAACATATATGTATATACATACTTATACACT
CGAATATTTGTAGACTGATGTACTTCTATATATATATAGGGGGTTTGTGTTCCTCTTCCT
TTCCTTTTTTTTTCTCTCTTCCCTTCCAGTTTCTTTTATTCTTTGCTGTTTCGAAGAATC
ACACCATCAATGAATAAATC
>MEP3   MEP3; upstream from -800 to -1; size: 800; feature type:gene; location: Saccharomyces_cerevisiae:NC_001148.3:812450:813249:R
GCGACAAATATAAACTAGTCTCACGGAAGTTAGATGTTGAATCTAAGAGGAATTTTGTGA
AGGAATATATCAGCGATCAACGTAAAAAGAGGAAGTAGAAATACTTATGAAGGCATGCAT
GCATGCATACATATTTATATATATATGTCTTTAGGAGTATGTATTGCATTTAATCGAAAC
AAACAAGAAAAAGAAGAGTAGATGTGCCCGTTTCTGTCACTCCTATTTACTGACACTTTC
TTGACCTACCTCAAACCAGTTCCAGTTCCGGCAAAAAGTGCCGCGCGGCGGAGAAACATC
TCCACCTTATCTCGGCGCCAAATCCTTATCTCTCGTAGCTGGTTTGCCCGCGATAAGGCG
GGCGAGTTATTTTGAAGTTTTCCATAAACTGGTTTTCCATCTCGAGGTTTTTCCTCGCTT
TCCACGCTATGACCCTTTTTAGTTAAGGTACCCGATGGCATACTTTATATATTATATATA
TATGTTAAGTTAATATGTTTTAGCAGATTTGATATGCTGATATGCAGCACGGACTTTCCC
TCTCCTTGTCTTATCGCATCTTATCGCAACAATTTGATAGATATCTTCTCCCTTTCCTAT
CTTGTAGAATAAGGTTGTGTGCTTTGAGTCTGATAGCCGTCTTCTTTCGGTCGCTTCTTC
TCTCTTTTGGTTCTTTGATTGTCTATTACAATCAATGCAGGCTAGTTAAGGGTCCAATCA
CTTTTGAAATTGTTTTGTAAAAAGCGAAGGCATTTTTTTTTTAGAAGATACAATTGAAAA
CATATAGATTTAGAGTTCAC
>DAL80  DAL80; upstream from -800 to -1; size: 800; feature type:gene; location: Saccharomyces_cerevisiae:NC_001143.7:505740:506539:D
GTTCATTAGAGTGCATAATATGGTCTAATGAGTGGTTCGGTGACACATCACTCAGGTTTC
TATCTACAAAGGATTTGGGCAATGCATGCTTCCTCTCCGCCTCCTTGCCGTTGGGAGTTC
TTCGTTTTTCTCTTTGTAAACTGCTAGTCAGATTGCCATTCTCAGGTAATTGCCGCAATA
CTTCTTGGTTTTCTAACTCATCTGGTCTCGAATTTACTCTATCTACTTCTTCAGTCACCG
ATCTATCTGCCTGAGGTGGAGCGAAGTGAGTTCCAGACGCTGTTGACACGTTAGACATCA
CCCTTGTTTATCTATCCTACCTTTTCTTCTTGCGTACGTGCCTCTCAATGCGTCGTGTGA
ATTATCAGTGACCGGTCGTGCCTATAATGTCCTGCTAATTTCCCACTAAATCTTTCCCCA
TGGCGTATTCATCGTTATGTTTGTGTCTTTTGTTCAACCCAAAGGGCTGTAGCAATCTTC
ACCCGTTTGTCGTTGATAACGAGTTTCCACCTTATCACTTATCACTAGTGCTAATCAAAC
AGCAAAGAATGCTTGATAGAAACCGATCCTGGGCTTATCTCGCTGCATTGTGGCGGCATC
CCTGGACTGTAATCAGCAAGTGTTGCTTAGTATATATATACATCCAGCGTCAGCTTGAAT
TTGGATACAGTTACTGTTTTTTCGATTTTCTCTTGGTTATTCTTTCTGAGACAGTAGTAA
TTTTGTATTACTGAGCGGGATATTGTTTATCTGCCGTCATACTATATTACATTATATTAT
ATCATATTATATATAAGAGA


 
